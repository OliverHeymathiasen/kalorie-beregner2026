<!doctype html>
<html lang="da">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kalorieberegner ‚Ä¢ Oliver Hey Fitness</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      /* ‚úÖ Skift kun den her hvis du vil justere din bl√• */
      --brand:#1f4fd8;

      --bg:#ffffff;
      --page:#ffffff;
      --text:#0b1b2b;
      --muted:#6b7a8a;

      --tile:#ffffff;
      --tileBorder:#e6e8ee;
      --tileShadow:0 10px 28px rgba(15,23,42,.06);

      --selectedBg:rgba(31,79,216,.08);
      --selectedBorder:rgba(31,79,216,.9);

      --btnShadow:0 14px 30px rgba(31,79,216,.18);

      --radius:14px;
      --radiusBig:16px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:var(--page);
      color:var(--text);
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    }

    /* --- Top header (James-ish) --- */
    .top{
      position:sticky;
      top:0;
      background:rgba(255,255,255,.92);
      backdrop-filter:saturate(180%) blur(10px);
      border-bottom:1px solid #f0f2f6;
      z-index:10;
    }
    .topInner{
      max-width:760px;
      margin:0 auto;
      padding:14px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .logo{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:800;
      letter-spacing:.2px;
    }
    .mark{
      width:34px;height:34px;border-radius:10px;
      background:linear-gradient(135deg,var(--brand),rgba(31,79,216,.65));
      box-shadow:0 12px 26px rgba(31,79,216,.18);
    }
    .topActions{display:flex; align-items:center; gap:10px;}
    .join{
      border:0;
      padding:10px 14px;
      border-radius:999px;
      font-weight:800;
      cursor:pointer;
      color:var(--brand);
      background:rgba(31,79,216,.10);
    }
    .burger{
      width:40px;height:40px;border-radius:999px;
      border:1px solid #eef1f6;
      background:#fff;
      display:grid;place-items:center;
      cursor:pointer;
    }
    .burger span{
      width:18px;height:2px;background:#6c7a8a;display:block;border-radius:2px;
      position:relative;
    }
    .burger span:before,.burger span:after{
      content:"";position:absolute;left:0;width:18px;height:2px;background:#6c7a8a;border-radius:2px;
    }
    .burger span:before{top:-6px}
    .burger span:after{top:6px}

    /* --- Layout --- */
    .wrap{
      max-width:760px;
      margin:0 auto;
      padding:18px 16px 44px;
    }

    h1{
      font-size:38px;
      line-height:1.08;
      margin:22px 0 10px;
      font-weight:900;
      letter-spacing:-.03em;
    }
    .sub{
      margin:0 0 18px;
      color:var(--muted);
      font-size:15px;
      line-height:1.5;
    }

    .card{
      background:#fff;
      border:1px solid #eef1f6;
      border-radius:var(--radiusBig);
      box-shadow:var(--tileShadow);
      padding:14px;
    }

    .stack{display:flex; flex-direction:column; gap:14px}

    /* --- James-ish tiles --- */
    .tile{
      display:flex;
      align-items:center;
      gap:14px;
      padding:16px;
      border-radius:var(--radius);
      border:2px solid var(--tileBorder);
      background:var(--tile);
      cursor:pointer;
      transition:.14s ease;
    }
    .tile:hover{transform:translateY(-1px)}
    .tile.active{
      border-color:var(--selectedBorder);
      background:var(--selectedBg);
    }
    .ico{
      width:36px;height:36px;
      display:grid;place-items:center;
      color:var(--brand);
      flex:0 0 auto;
    }
    .tile h3{
      margin:0;
      font-size:18px;
      font-weight:900;
      letter-spacing:-.01em;
    }
    .tile p{
      margin:4px 0 0;
      color:var(--muted);
      font-size:14px;
      line-height:1.35;
    }

    .labelRow{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:12px;
      margin-top:6px;
    }
    .label{
      font-weight:900;
      margin:0;
      font-size:16px;
    }
    .value{
      font-weight:900;
      color:var(--brand);
      font-size:22px;
      letter-spacing:-.02em;
    }
    .hint{
      margin:6px 0 0;
      color:var(--muted);
      font-size:13px;
      line-height:1.35;
    }
    input[type="range"]{
      width:100%;
      margin-top:10px;
      accent-color:var(--brand);
    }

    /* Toggle pills (gender/units) */
    .grid2{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    .pill{
      border-radius:var(--radius);
      border:2px solid var(--tileBorder);
      background:#fff;
      padding:14px;
      text-align:center;
      font-weight:900;
      cursor:pointer;
      transition:.14s ease;
    }
    .pill.active{
      border-color:var(--selectedBorder);
      background:var(--selectedBg);
      color:var(--brand);
    }
    @media (max-width:520px){
      .grid2{grid-template-columns:1fr}
      h1{font-size:32px}
    }

    /* Big bottom button like James */
    .btnBar{margin-top:14px}
    .btnPrimary{
      width:100%;
      border:0;
      border-radius:12px;
      padding:16px 16px;
      font-weight:900;
      font-size:16px;
      background:var(--brand);
      color:#fff;
      cursor:pointer;
      box-shadow:var(--btnShadow);
    }
    .btnLink{
      width:100%;
      border:0;
      background:transparent;
      color:var(--brand);
      font-weight:900;
      padding:12px 10px;
      cursor:pointer;
    }

    /* Result tiles (James-ish) */
    .kpis{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
    }
    .kpi{
      border-radius:var(--radius);
      border:1px solid rgba(31,79,216,.18);
      background:rgba(31,79,216,.08);
      padding:14px;
    }
    .kpi .k{
      margin:0 0 6px;
      color:var(--muted);
      font-weight:900;
      font-size:13px;
    }
    .kpi .v{
      margin:0;
      color:var(--brand);
      font-weight:900;
      font-size:30px;
      letter-spacing:-.03em;
    }
    .divider{height:1px;background:#eef1f6;margin:12px 0}

    /* Mailchimp form styling (clean) */
    .formGrid{display:grid; grid-template-columns:1fr 1fr; gap:10px}
    .field{display:flex; flex-direction:column; gap:6px}
    .field.full{grid-column:1/-1}
    .field label{font-size:12.5px;color:var(--muted);font-weight:800}
    .field input{
      border-radius:12px;
      border:2px solid var(--tileBorder);
      padding:14px 12px;
      font-size:15px;
      outline:none;
      background:#fff;
    }
    .field input:focus{
      border-color:var(--selectedBorder);
      box-shadow:0 0 0 4px rgba(31,79,216,.12);
    }
    .check{
      display:flex; gap:10px; align-items:flex-start;
      margin-top:10px;
    }
    .check input{margin-top:2px; accent-color:var(--brand);}
    .small{font-size:13px; color:var(--muted); line-height:1.55}

    .step{display:none}
    .step.active{display:block}
  </style>
</head>

<body>
  <header class="top">
    <div class="topInner">
      <div class="logo">
        <div class="mark" aria-hidden="true"></div>
      </div>
      <div class="topActions">
        <button class="join" type="button">Kom i gang</button>
        <button class="burger" type="button" aria-label="Menu"><span></span></button>
      </div>
    </div>
  </header>

  <main class="wrap">

    <!-- STEP 1 -->
    <section class="step active" data-step="1">
      <h1>Kalorieberegner</h1>
      <p class="sub">V√¶lg dit m√•l, s√• beregner jeg et realistisk udgangspunkt.</p>

      <div class="card stack">
        <div class="tile active" data-goal="recomp">
          <div class="ico" aria-hidden="true">
            <!-- simple icon -->
            <svg width="30" height="30" viewBox="0 0 24 24" fill="none">
              <path d="M7 20h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M9 20c-2-2-3-5-3-8a6 6 0 1 1 12 0c0 3-1 6-3 8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div>
            <h3>Smid fedt og byg muskelmasse</h3>
            <p>Opn√• en lavere fedtprocent og mere muskelmasse</p>
          </div>
        </div>

        <div class="tile" data-goal="gain">
          <div class="ico" aria-hidden="true">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="none">
              <path d="M7 14c2 0 2-4 4-4s2 4 4 4 2-4 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M6 18h12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div>
            <h3>Byg muskelmasse</h3>
            <p>Styrke, muskelopbygning og v√¶gt√∏gning</p>
          </div>
        </div>

        <div class="tile" data-goal="cut">
          <div class="ico" aria-hidden="true">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="none">
              <path d="M12 3v18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M7 8c3-3 7-3 10 0" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M7 16c3 3 7 3 10 0" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div>
            <h3>Smid fedt</h3>
            <p>V√¶gttab med fokus p√• fedt (og bevar muskler)</p>
          </div>
        </div>

        <div class="btnBar">
          <button class="btnPrimary" id="next1">N√¶ste</button>
        </div>
      </div>
    </section>

    <!-- STEP 2 -->
    <section class="step" data-step="2">
      <h1>Oplysninger</h1>
      <p class="sub">Vi bruger det her til at beregne dit energibehov.</p>

      <div class="card stack">
        <div>
          <p class="label">K√∏n</p>
          <div class="grid2">
            <div class="pill active" data-gender="female">Kvinde</div>
            <div class="pill" data-gender="male">Mand</div>
          </div>
        </div>

        <div>
          <p class="label">Enheder</p>
          <div class="grid2">
            <div class="pill active" data-units="metric">Meter / kilo</div>
            <div class="pill" data-units="imperial">Pund / tommer</div>
          </div>
        </div>

        <div class="divider"></div>

        <div>
          <div class="labelRow">
            <p class="label">Alder</p>
            <div class="value"><span id="ageVal">35</span></div>
          </div>
          <input id="age" type="range" min="16" max="80" value="35">
        </div>

        <div>
          <div class="labelRow">
            <p class="label">H√∏jde</p>
            <div class="value"><span id="heightVal">170</span> <span id="heightUnit">cm</span></div>
          </div>
          <input id="height" type="range" min="140" max="210" value="170">
        </div>

        <div>
          <div class="labelRow">
            <p class="label">V√¶gt</p>
            <div class="value"><span id="weightVal">80</span> <span id="weightUnit">kg</span></div>
          </div>
          <input id="weight" type="range" min="40" max="180" value="80">
        </div>

        <button class="btnLink" id="back2">Tilbage</button>
        <button class="btnPrimary" id="next2">N√¶ste</button>
      </div>
    </section>

    <!-- STEP 3 -->
    <section class="step" data-step="3">
      <h1>Aktivitetsniveau</h1>
      <p class="sub">V√¶lg det, der passer bedst p√• din hverdag.</p>

      <div class="card stack">
        <div class="tile active" data-activity="light">
          <div class="ico" aria-hidden="true">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="none">
              <path d="M7 14h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M9 10h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div>
            <h3>Let aktiv</h3>
            <p>Tr√¶ning 1‚Äì3 gange om ugen</p>
          </div>
        </div>

        <div class="tile" data-activity="moderate">
          <div class="ico" aria-hidden="true">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="none">
              <path d="M6 15h12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8 11h8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M10 7h4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div>
            <h3>Moderat aktiv</h3>
            <p>Tr√¶ning 3‚Äì5 gange om ugen</p>
          </div>
        </div>

        <div class="tile" data-activity="very">
          <div class="ico" aria-hidden="true">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="none">
              <path d="M5 16h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M7 12h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M9 8h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div>
            <h3>Meget aktiv</h3>
            <p>H√•rd tr√¶ning 6‚Äì7 gange om ugen</p>
          </div>
        </div>

        <div class="tile" data-activity="extra">
          <div class="ico" aria-hidden="true">
            <svg width="30" height="30" viewBox="0 0 24 24" fill="none">
              <path d="M4 17h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M6 13h12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8 9h8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M10 5h4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </div>
          <div>
            <h3>Ekstremt aktiv</h3>
            <p>Fysisk arbejde eller 2 daglige pas</p>
          </div>
        </div>

        <button class="btnLink" id="back3">Tilbage</button>
        <button class="btnPrimary" id="calc">Beregn</button>
      </div>
    </section>

    <!-- STEP 4 -->
    <section class="step" data-step="4">
      <h1>Dit resultat</h1>
      <p class="sub">Du kan finjustere protein og energi her.</p>

      <div class="card stack">
        <div class="kpis">
          <div class="kpi">
            <p class="k">Kalorier</p>
            <p class="v"><span id="calOut">‚Äî</span></p>
          </div>
          <div class="kpi">
            <p class="k">Protein</p>
            <p class="v"><span id="proteinOut">‚Äî</span>g</p>
          </div>
        </div>

        <div>
          <div class="labelRow">
            <p class="label">Protein pr. kg</p>
            <div class="value"><span id="ppkVal">1.8</span>g</div>
          </div>
          <input id="ppk" type="range" min="1.2" max="2.4" step="0.1" value="1.8">
          <p class="hint">Typisk 1.6‚Äì2.2 g/kg for de fleste.</p>
        </div>

        <div>
          <div class="labelRow">
            <p class="label" id="energyLabel">Kalorieunderskud</p>
            <div class="value"><span id="defSign">-</span><span id="defVal">15</span>%</div>
          </div>
          <input id="energy" type="range" min="0" max="30" step="1" value="15">
          <p class="hint" id="energyHint">10‚Äì20% underskud er et st√¶rkt udgangspunkt.</p>
        </div>

        <button class="btnLink" id="back4">Tilbage</button>
        <button class="btnPrimary" id="next4">F√• forklaringen p√• mail</button>
      </div>
    </section>

    <!-- STEP 5 -->
    <section class="step" data-step="5">
      <h1>Lad mig forklare‚Ä¶</h1>
      <p class="sub">Indtast din email, s√• sender jeg dig forklaringen og holder dig i loopet üôÇ</p>

      <div class="card stack">
        <p class="small" style="margin:0;">
          Jeg vil gerne forklare, hvorfor dette tal kan v√¶re anderledes end det, du har set i MyFitnessPal ‚Äî
          og hvorfor jeg ikke har givet dig et fast m√•l for kulhydrat eller fedt.
        </p>
        <p class="small" style="margin:0;">
          Skriv din bedste email herunder, s√• sender jeg forklaringen og tilmelder dig mit nyhedsbrev üôÇ
        </p>

        <!-- ‚úÖ Mailchimp -->
        <form
          id="mcForm"
          action="https://me.us15.list-manage.com/subscribe/post?u=a8c95bb1bd295a68546d88267&amp;id=1267d637b6&amp;f_id=008bc2e1f0"
          method="post"
          target="_blank"
          novalidate
        >
          <input type="hidden" name="tags" value="303">
          <input type="hidden" name="KALORIER" id="mce-KALORIER" value="">

          <div class="formGrid">
            <div class="field">
              <label for="mce-FNAME">Fornavn (valgfrit)</label>
              <input id="mce-FNAME" name="FNAME" type="text" placeholder="Fornavn">
            </div>
            <div class="field">
              <label for="mce-LNAME">Efternavn (valgfrit)</label>
              <input id="mce-LNAME" name="LNAME" type="text" placeholder="Efternavn">
            </div>
            <div class="field full">
              <label for="mce-EMAIL">Email (p√•kr√¶vet)</label>
              <input id="mce-EMAIL" name="EMAIL" type="email" required placeholder="Email adresse">
            </div>
          </div>

          <div class="check">
            <input id="consent" type="checkbox" required>
            <label for="consent" class="small">
              Jeg accepterer at modtage emails med tips og guides om fedttab og muskelopbygning.
            </label>
          </div>

          <div aria-hidden="true" style="position:absolute;left:-5000px;">
            <input type="text" name="b_a8c95bb1bd295a68546d88267_1267d637b6" tabindex="-1" value="">
          </div>

          <button class="btnPrimary" type="submit" style="margin-top:12px;">Send</button>
        </form>

        <button class="btnLink" id="back5">Tilbage</button>
      </div>
    </section>

  </main>

  <script>
    // ---------- State ----------
    const state = {
      step: 1,
      goal: 'recomp',     // recomp | gain | cut
      gender: 'female',   // female | male
      units: 'metric',    // metric | imperial
      age: 35,
      heightCm: 170,
      weightKg: 80,
      activity: 'light',  // light | moderate | very | extra
      ppk: 1.8,
      energyPct: 10,      // gain=overskud(+), ellers underskud(-)
      calories: null,
      protein: null,
    };

    const $ = (s)=>document.querySelector(s);
    const $$ = (s)=>Array.from(document.querySelectorAll(s));

    function showStep(n){
      state.step = n;
      $$('.step').forEach(x=>x.classList.remove('active'));
      document.querySelector(`.step[data-step="${n}"]`).classList.add('active');
      window.scrollTo({top:0,behavior:'smooth'});
    }

    function setActive(groupSelector, el){
      $$(groupSelector).forEach(x=>x.classList.remove('active'));
      el.classList.add('active');
    }

    function activityMultiplier(level){
      switch(level){
        case 'light': return 1.375;
        case 'moderate': return 1.55;
        case 'very': return 1.725;
        case 'extra': return 1.9;
        default: return 1.375;
      }
    }

    function bmrHB({gender, weightKg, heightCm, age}){
      // revised Harris-Benedict
      if(gender === 'male'){
        return 88.362 + (13.397 * weightKg) + (4.799 * heightCm) - (5.677 * age);
      }
      return 447.593 + (9.247 * weightKg) + (3.098 * heightCm) - (4.330 * age);
    }
    const round = (n)=>Math.round(n);

    function updateEnergyUI(){
      const label = $('#energyLabel');
      const hint  = $('#energyHint');
      const sign  = $('#defSign');

      if(state.goal === 'gain'){
        label.textContent = 'Kalorieoverskud';
        hint.textContent  = '5‚Äì10% overskud er typisk nok til muskelopbygning.';
        sign.textContent  = '+';
      } else {
        label.textContent = 'Kalorieunderskud';
        hint.textContent  = '10‚Äì20% underskud er et st√¶rkt udgangspunkt.';
        sign.textContent  = '-';
      }

      $('#defVal').textContent = state.energyPct;
      $('#energy').value = state.energyPct;
    }

    function recalc(){
      const bmr = bmrHB({gender:state.gender, weightKg:state.weightKg, heightCm:state.heightCm, age:state.age});
      const tdee = bmr * activityMultiplier(state.activity);

      let target = tdee;
      if(state.goal === 'gain'){
        target = tdee * (1 + state.energyPct/100);
      } else {
        target = tdee * (1 - state.energyPct/100);
      }

      const protein = state.weightKg * state.ppk;

      state.calories = round(target);
      state.protein = round(protein);

      $('#calOut').textContent = state.calories;
      $('#proteinOut').textContent = state.protein;

      // Mailchimp merge
      $('#mce-KALORIER').value = String(state.calories);
    }

    // ---- Step 1 goal tiles ----
    $$('.step[data-step="1"] .tile').forEach(el=>{
      el.addEventListener('click', ()=>{
        setActive('.step[data-step="1"] .tile', el);
        state.goal = el.dataset.goal;

        // defaults per m√•l (som James logik)
        if(state.goal === 'gain') state.energyPct = 7;     // +7%
        if(state.goal === 'recomp') state.energyPct = 10;  // -10%
        if(state.goal === 'cut') state.energyPct = 15;     // -15%

        updateEnergyUI();
      });
    });
    $('#next1').addEventListener('click', ()=>showStep(2));

    // ---- Step 2 pills ----
    $$('.pill[data-gender]').forEach(el=>{
      el.addEventListener('click', ()=>{
        setActive('.pill[data-gender]', el);
        state.gender = el.dataset.gender;
      });
    });
    $$('.pill[data-units]').forEach(el=>{
      el.addEventListener('click', ()=>{
        setActive('.pill[data-units]', el);
        state.units = el.dataset.units;

        if(state.units === 'metric'){
          $('#heightUnit').textContent = 'cm';
          $('#weightUnit').textContent = 'kg';
          $('#height').min = 140; $('#height').max = 210; $('#height').step = 1;
          $('#weight').min = 40;  $('#weight').max = 180; $('#weight').step = 1;

          $('#height').value = Math.round(state.heightCm);
          $('#weight').value = Math.round(state.weightKg);
          $('#heightVal').textContent = Math.round(state.heightCm);
          $('#weightVal').textContent = Math.round(state.weightKg);
        } else {
          $('#heightUnit').textContent = 'in';
          $('#weightUnit').textContent = 'lb';

          const inches = state.heightCm / 2.54;
          const lbs = state.weightKg * 2.20462262;

          $('#height').min = 55; $('#height').max = 83; $('#height').step = 1;
          $('#weight').min = 88; $('#weight').max = 397; $('#weight').step = 1;

          $('#height').value = Math.round(inches);
          $('#weight').value = Math.round(lbs);
          $('#heightVal').textContent = Math.round(inches);
          $('#weightVal').textContent = Math.round(lbs);
        }
      });
    });

    $('#age').addEventListener('input', e=>{
      state.age = +e.target.value;
      $('#ageVal').textContent = state.age;
    });

    $('#height').addEventListener('input', e=>{
      const v = +e.target.value;
      if(state.units === 'metric'){
        state.heightCm = v;
        $('#heightVal').textContent = v;
      } else {
        state.heightCm = v * 2.54;
        $('#heightVal').textContent = v;
      }
    });

    $('#weight').addEventListener('input', e=>{
      const v = +e.target.value;
      if(state.units === 'metric'){
        state.weightKg = v;
        $('#weightVal').textContent = v;
      } else {
        state.weightKg = v / 2.20462262;
        $('#weightVal').textContent = v;
      }
    });

    $('#back2').addEventListener('click', ()=>showStep(1));
    $('#next2').addEventListener('click', ()=>showStep(3));

    // ---- Step 3 activity tiles ----
    $$('.step[data-step="3"] .tile').forEach(el=>{
      el.addEventListener('click', ()=>{
        setActive('.step[data-step="3"] .tile', el);
        state.activity = el.dataset.activity;
      });
    });

    $('#back3').addEventListener('click', ()=>showStep(2));
    $('#calc').addEventListener('click', ()=>{
      updateEnergyUI();
      $('#ppk').value = state.ppk;
      $('#ppkVal').textContent = state.ppk.toFixed(1);
      recalc();
      showStep(4);
    });

    // ---- Step 4 sliders ----
    $('#ppk').addEventListener('input', e=>{
      state.ppk = +e.target.value;
      $('#ppkVal').textContent = state.ppk.toFixed(1);
      recalc();
    });

    $('#energy').addEventListener('input', e=>{
      state.energyPct = +e.target.value;
      $('#defVal').textContent = state.energyPct;
      recalc();
    });

    $('#back4').addEventListener('click', ()=>showStep(3));
    $('#next4').addEventListener('click', ()=>{
      recalc();
      showStep(5);
    });

    // ---- Step 5 ----
    $('#back5').addEventListener('click', ()=>showStep(4));

    $('#mcForm').addEventListener('submit', (e)=>{
      if(!$('#consent').checked){
        e.preventDefault();
        alert('Du skal acceptere at modtage emails for at f√• forklaringen üôè');
      }
    });

    // init
    updateEnergyUI();
  </script>
</body>
</html>
